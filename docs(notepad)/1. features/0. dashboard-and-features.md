# 대시보드 및 기능 구현 계획

## 0. 버전관리 및 작성에 관련하여

- 아레 계획은 추후 적용하게 될 4.0.0과 5.0.0 버전의 계획 및 준비 작업입니다.
- 4.0.0은 봇에게 대시보드를 적용하기 전의 버전
- 5.0.0은 봇에게 대시보드를 적용한 후의 버전
- 모든 버전이 적용되고 안정화 페치 및 그외 기타 업데이트에 관한 버전은 5.5.0 ~ 6.0.0 버전으로 적용한다.

- 대시보드 버전 관리는 별도로 진행한다.
  * 기본 1.0.0 부터 시작하여 Front-end, Back-end의 개별레포와 버전을 개별로 관리한다.
  * [HYolss Dashboard Web_Front-end(Private) :: Github](https://github.com/SOIV-Studio/HYolss-Dashboard-Web_Front-end)
  * [HYolss Dashboard Web_Back-end(Private) :: Github](https://github.com/SOIV-Studio/HYolss-Dashboard-Web_Back-end)
- 메인 웹사이트는 별도의 레포로 관리하여 버전 관리를 한다.
  * 메인 웹사이트 또한 1.0.0 부터 시작하며 Front-end, Back-end를 모노레포로 관리한다.
  * 모노레포 메인 관리는 Front-end 레포에서 사용되며 Back-end 레포는 추후 서비스 중 분리 작업이 필요할때 사용될 예정
  * [SOIV-Studio_website_Front-end :: Github](https://github.com/SOIV-Studio/main-website_Front-end)
  * [SOIV-Studio_website_Back-end(Private) :: Github](https://github.com/SOIV-Studio/main-website_Back-end)

- 모든 웹사이트와 봇과의 연동은 API를 통하여 통신한다.
- statuspage를 제작하여 `status.website.com`으로 표기한다.
  * 메인 웹사이트, 대시보드, 디스코드 봇 등 SOIV Studio와 연관된 모든 서비스 상태를 여기서 확인 가능하도록 한다.
  * 자체 제작 페이지가 될 가능성도 있음 / 기본 statuspage으로만은 추가 관리 및 확인이 가능한 대시보드가 필요하기 때문

### 1. 2026-quarter-Features-update
따라서 해당 분기의 업데이트 버전은 3.3.0 ~ 3.9.0 버전까지의 업데이트 내역입니다.

- 메인 웹사이트 및 대시보드 구현 계획
2025년도 4분기까지는 구현 계획 및 작업 예정이 없습니다.
따라서 2026년도 또는 2027년도에 작업이 진행될 수 있습니다.

## 1. 필요한 패키지

### 웹사이트
- next.js (웹 프레임워크)
- ejs 또는 react (프론트엔드)
- passport (인증)
- express-session (세션 관리)
- mongoose 또는 sqlite3 (데이터베이스)

### 봇 대시보드
- next.js (웹 프레임워크)
- ejs 또는 react (프론트엔드)
- discord.js (디스코드 API)
- passport-discord (디스코드 OAuth2)
- express-session (세션 관리)
- 데이터베이스 패키지

## 2. 호스팅 고려사항

### 서버 요구사항
- Node.js 실행 환경
- 24/7 안정적 가동
- SSL 인증서
- 최소 1GB RAM (권장 2GB 이상)
- 데이터베이스 지원

### 추천 호스팅 서비스
- AWS (메인 호스팅)
- Google Cloud
- DigitalOcean
- Heroku
- Vercel (프론트엔드)
- MongoDB Atlas (데이터베이스)
- PostgreSQL 17.4 (데이터베이스)

### 필수 설정
- 환경 변수 관리
- 도메인 및 DNS 설정
- 백업 시스템
- 모니터링 도구

## 3. 개발 및 배포 프로세스

### Git 브랜치 전략

```
main (또는 master) ← 메인 버전
   ↑
development ← 개발 버전
   ↑
feature/* ← 새로운 기능 개발
```

#### 브랜치 설명
1. main (또는 master)
   - 실제 서비스에 배포되는 안정적인 버전
   - 철저한 테스트와 코드 리뷰를 거친 코드만 병합
   - 직접적인 커밋은 금지, development 브랜치를 통해서만 업데이트

2. development
   - 개발 중인 코드가 모이는 브랜치
   - 새로운 기능 개발이 완료되면 여기에 병합
   - 충분한 테스트 후 main 브랜치로 병합

3. feature/*
   - 새로운 기능 개발을 위한 브랜치
   - development 브랜치에서 분기
   - 기능 개발 완료 후 development로 병합
   - 브랜치명 예시: feature/login, feature/dashboard

#### 작업 프로세스
1. 기능 개발 시작
   ```bash
   git checkout development
   git pull origin development
   git checkout -b feature/새기능
   ```

2. 기능 개발 완료 후
   ```bash
   git add .
   git commit -m "feat: 새로운 기능 추가"
   git push origin feature/새기능
   ```

3. development 브랜치로 병합
   ```bash
   git checkout development
   git merge feature/새기능
   git push origin development
   ```

4. main 브랜치로 배포
   ```bash
   git checkout main
   git merge development
   git push origin main
   ```

### 환경 설정 분리
```
config/
  ├── config.main.json    # 메인 서버 설정
  ├── config.dev.json     # 개발 서버 설정
  └── config.local.json   # 로컬 테스트 설정
```

### 배포 구조
1. 코드 관리 (GitHub/GitLab)
```
Repository
├── main 브랜치 → 실제 서비스
└── development 브랜치 → 개발/테스트
```

2. 웹사이트 배포 (Cloudflare)
- 메인 사이트: `website.com`
  * main 브랜치에서 자동 배포
  * 프로덕션 환경 설정 사용
- 개발 버전: `dev.website.com`
  * development 브랜치에서 자동 배포
  * 개발 환경 설정 사용

3. 디스코드 봇 배포
- 메인 봇:
  * 호스팅 업체에서 24/7 구동
  * main 브랜치 기반 배포
  * 실제 서비스용 토큰 사용
- 개발용 봇:
  * 별도 호스팅 또는 로컬 실행
  * development 브랜치 기반
  * 테스트용 토큰 사용

## 4. 테스트 환경 구성

### 로컬 테스트 환경
```
개발 PC ─→ 로컬 봇 ─→ 테스트 서버
      └─→ 로컬 웹사이트
```

### 호스팅 테스트 환경
```
호스팅 서버 ─→ 개발용 봇 ─→ 테스트 서버
          └─→ dev.website.com
```